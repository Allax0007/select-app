import{r as y,R as Ve,a as ft}from"./react-BiFHKRHA.js";import{M as U,B as T,L as Y,S as W,a as pt,t as ht,I as je,_ as be,F as O,b as F,s as ie,C as Je,c as ue,E as mt,d as Xe,P as Ye,e as Ht,f as qt,R as Wt,g as Gt,h as Kt,D as Vt,i as Pe,j as de,k as Jt}from"./antd-7Y9e4KSj.js";import{L as Q,u as Xt,R as Yt,a as fe,H as Qt}from"./react-router-dom-Dn5YjvsF.js";import{r as Zt}from"./react-dom-10L-X-Lr.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();var yt={exports:{}},Se={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var er=y,tr=Symbol.for("react.element"),rr=Symbol.for("react.fragment"),nr=Object.prototype.hasOwnProperty,or=er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sr={key:!0,ref:!0,__self:!0,__source:!0};function xt(e,t,r){var n,o={},c=null,i=null;r!==void 0&&(c=""+r),t.key!==void 0&&(c=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)nr.call(t,n)&&!sr.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:tr,type:e,key:c,ref:i,props:o,_owner:or.current}}Se.Fragment=rr;Se.jsx=xt;Se.jsxs=xt;yt.exports=Se;var s=yt.exports,gt={exports:{}},wt={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ae=y;function cr(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ir=typeof Object.is=="function"?Object.is:cr,ar=ae.useSyncExternalStore,lr=ae.useRef,ur=ae.useEffect,dr=ae.useMemo,fr=ae.useDebugValue;wt.useSyncExternalStoreWithSelector=function(e,t,r,n,o){var c=lr(null);if(c.current===null){var i={hasValue:!1,value:null};c.current=i}else i=c.current;c=dr(function(){function u(j){if(!d){if(d=!0,l=j,j=n(j),o!==void 0&&i.hasValue){var m=i.value;if(o(m,j))return f=m}return f=j}if(m=f,ir(l,j))return m;var k=n(j);return o!==void 0&&o(m,k)?m:(l=j,f=k)}var d=!1,l,f,h=r===void 0?null:r;return[function(){return u(t())},h===null?void 0:function(){return u(h())}]},[t,r,n,o]);var a=ar(e,c[0],c[1]);return ur(function(){i.hasValue=!0,i.value=a},[a]),fr(a),a};gt.exports=wt;var pr=gt.exports,A="default"in Ve?ft:Ve,Qe=Symbol.for("react-redux-context"),Ze=typeof globalThis<"u"?globalThis:{};function hr(){if(!A.createContext)return{};const e=Ze[Qe]??(Ze[Qe]=new Map);let t=e.get(A.createContext);return t||(t=A.createContext(null),e.set(A.createContext,t)),t}var G=hr(),mr=()=>{throw new Error("uSES not initialized!")};function ze(e=G){return function(){return A.useContext(e)}}var jt=ze(),bt=mr,yr=e=>{bt=e},xr=(e,t)=>e===t;function gr(e=G){const t=e===G?jt:ze(e),r=(n,o={})=>{const{equalityFn:c=xr,devModeChecks:i={}}=typeof o=="function"?{equalityFn:o}:o,{store:a,subscription:u,getServerState:d,stabilityCheck:l,identityFunctionCheck:f}=t();A.useRef(!0);const h=A.useCallback({[n.name](m){return n(m)}}[n.name],[n,l,i.stabilityCheck]),j=bt(u.addNestedSub,a.getState,d||a.getState,h,c);return A.useDebugValue(j),j};return Object.assign(r,{withTypes:()=>r}),r}var K=gr();function wr(e){e()}function jr(){let e=null,t=null;return{clear(){e=null,t=null},notify(){wr(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const o=t={callback:r,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!n||e===null||(n=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var et={notify(){},get:()=>[]};function br(e,t){let r,n=et,o=0,c=!1;function i(k){l();const S=n.subscribe(k);let P=!1;return()=>{P||(P=!0,S(),f())}}function a(){n.notify()}function u(){m.onStateChange&&m.onStateChange()}function d(){return c}function l(){o++,r||(r=e.subscribe(u),n=jr())}function f(){o--,r&&o===0&&(r(),r=void 0,n.clear(),n=et)}function h(){c||(c=!0,l())}function j(){c&&(c=!1,f())}const m={addNestedSub:i,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:d,trySubscribe:h,tryUnsubscribe:j,getListeners:()=>n};return m}var Sr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vr=typeof navigator<"u"&&navigator.product==="ReactNative",Cr=Sr||vr?A.useLayoutEffect:A.useEffect;function Er({store:e,context:t,children:r,serverState:n,stabilityCheck:o="once",identityFunctionCheck:c="once"}){const i=A.useMemo(()=>{const d=br(e);return{store:e,subscription:d,getServerState:n?()=>n:void 0,stabilityCheck:o,identityFunctionCheck:c}},[e,n,o,c]),a=A.useMemo(()=>e.getState(),[e]);Cr(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),a!==e.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,a]);const u=t||G;return A.createElement(u.Provider,{value:i},r)}var _r=Er;function St(e=G){const t=e===G?jt:ze(e),r=()=>{const{store:n}=t();return n};return Object.assign(r,{withTypes:()=>r}),r}var Or=St();function Pr(e=G){const t=e===G?Or:St(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var le=Pr();yr(pr.useSyncExternalStoreWithSelector);function I(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var kr=typeof Symbol=="function"&&Symbol.observable||"@@observable",tt=kr,ke=()=>Math.random().toString(36).substring(7).split("").join("."),Tr={INIT:`@@redux/INIT${ke()}`,REPLACE:`@@redux/REPLACE${ke()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ke()}`},me=Tr;function Le(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function vt(e,t,r){if(typeof e!="function")throw new Error(I(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(I(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(I(1));return r(vt)(e,t)}let n=e,o=t,c=new Map,i=c,a=0,u=!1;function d(){i===c&&(i=new Map,c.forEach((S,P)=>{i.set(P,S)}))}function l(){if(u)throw new Error(I(3));return o}function f(S){if(typeof S!="function")throw new Error(I(4));if(u)throw new Error(I(5));let P=!0;d();const R=a++;return i.set(R,S),function(){if(P){if(u)throw new Error(I(6));P=!1,d(),i.delete(R),c=null}}}function h(S){if(!Le(S))throw new Error(I(7));if(typeof S.type>"u")throw new Error(I(8));if(typeof S.type!="string")throw new Error(I(17));if(u)throw new Error(I(9));try{u=!0,o=n(o,S)}finally{u=!1}return(c=i).forEach(R=>{R()}),S}function j(S){if(typeof S!="function")throw new Error(I(10));n=S,h({type:me.REPLACE})}function m(){const S=f;return{subscribe(P){if(typeof P!="object"||P===null)throw new Error(I(11));function R(){const _=P;_.next&&_.next(l())}return R(),{unsubscribe:S(R)}},[tt](){return this}}}return h({type:me.INIT}),{dispatch:h,subscribe:f,getState:l,replaceReducer:j,[tt]:m}}function Rr(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:me.INIT})>"u")throw new Error(I(12));if(typeof r(void 0,{type:me.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(I(13))})}function Mr(e){const t=Object.keys(e),r={};for(let c=0;c<t.length;c++){const i=t[c];typeof e[i]=="function"&&(r[i]=e[i])}const n=Object.keys(r);let o;try{Rr(r)}catch(c){o=c}return function(i={},a){if(o)throw o;let u=!1;const d={};for(let l=0;l<n.length;l++){const f=n[l],h=r[f],j=i[f],m=h(j,a);if(typeof m>"u")throw a&&a.type,new Error(I(14));d[f]=m,u=u||m!==j}return u=u||n.length!==Object.keys(i).length,u?d:i}}function ye(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Ir(...e){return t=>(r,n)=>{const o=t(r,n);let c=()=>{throw new Error(I(15))};const i={getState:o.getState,dispatch:(u,...d)=>c(u,...d)},a=e.map(u=>u(i));return c=ye(...a)(o.dispatch),{...o,dispatch:c}}}function Dr(e){return Le(e)&&"type"in e&&typeof e.type=="string"}var Ct=Symbol.for("immer-nothing"),rt=Symbol.for("immer-draftable"),$=Symbol.for("immer-state");function B(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Z=Object.getPrototypeOf;function V(e){return!!e&&!!e[$]}function q(e){var t;return e?Et(e)||Array.isArray(e)||!!e[rt]||!!((t=e.constructor)!=null&&t[rt])||Ce(e)||Ee(e):!1}var Nr=Object.prototype.constructor.toString();function Et(e){if(!e||typeof e!="object")return!1;const t=Z(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Nr}function xe(e,t){ve(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function ve(e){const t=e[$];return t?t.type_:Array.isArray(e)?1:Ce(e)?2:Ee(e)?3:0}function Me(e,t){return ve(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function _t(e,t,r){const n=ve(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Ar(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ce(e){return e instanceof Map}function Ee(e){return e instanceof Set}function J(e){return e.copy_||e.base_}function Ie(e,t){if(Ce(e))return new Map(e);if(Ee(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Et(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[$];let o=Reflect.ownKeys(n);for(let c=0;c<o.length;c++){const i=o[c],a=n[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Z(e),n)}else{const n=Z(e);if(n!==null&&r)return{...e};const o=Object.create(n);return Object.assign(o,e)}}function Ue(e,t=!1){return _e(e)||V(e)||!q(e)||(ve(e)>1&&(e.set=e.add=e.clear=e.delete=Fr),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Ue(n,!0))),e}function Fr(){B(2)}function _e(e){return Object.isFrozen(e)}var $r={};function X(e){const t=$r[e];return t||B(0,e),t}var oe;function Ot(){return oe}function zr(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function nt(e,t){t&&(X("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function De(e){Ne(e),e.drafts_.forEach(Lr),e.drafts_=null}function Ne(e){e===oe&&(oe=e.parent_)}function ot(e){return oe=zr(oe,e)}function Lr(e){const t=e[$];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function st(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[$].modified_&&(De(t),B(4)),q(e)&&(e=ge(t,e),t.parent_||we(t,e)),t.patches_&&X("Patches").generateReplacementPatches_(r[$].base_,e,t.patches_,t.inversePatches_)):e=ge(t,r,[]),De(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Ct?e:void 0}function ge(e,t,r){if(_e(t))return t;const n=t[$];if(!n)return xe(t,(o,c)=>ct(e,n,t,o,c,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return we(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const o=n.copy_;let c=o,i=!1;n.type_===3&&(c=new Set(o),o.clear(),i=!0),xe(c,(a,u)=>ct(e,n,o,a,u,r,i)),we(e,o,!1),r&&e.patches_&&X("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function ct(e,t,r,n,o,c,i){if(V(o)){const a=c&&t&&t.type_!==3&&!Me(t.assigned_,n)?c.concat(n):void 0,u=ge(e,o,a);if(_t(r,n,u),V(u))e.canAutoFreeze_=!1;else return}else i&&r.add(o);if(q(o)&&!_e(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ge(e,o),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&we(e,o)}}function we(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ue(t,r)}function Ur(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Ot(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=n,c=Be;r&&(o=[n],c=se);const{revoke:i,proxy:a}=Proxy.revocable(o,c);return n.draft_=a,n.revoke_=i,a}var Be={get(e,t){if(t===$)return e;const r=J(e);if(!Me(r,t))return Br(e,r,t);const n=r[t];return e.finalized_||!q(n)?n:n===Te(e.base_,t)?(Re(e),e.copy_[t]=Fe(n,e)):n},has(e,t){return t in J(e)},ownKeys(e){return Reflect.ownKeys(J(e))},set(e,t,r){const n=Pt(J(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const o=Te(J(e),t),c=o==null?void 0:o[$];if(c&&c.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Ar(r,o)&&(r!==void 0||Me(e.base_,t)))return!0;Re(e),Ae(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Te(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Re(e),Ae(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=J(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){B(11)},getPrototypeOf(e){return Z(e.base_)},setPrototypeOf(){B(12)}},se={};xe(Be,(e,t)=>{se[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});se.deleteProperty=function(e,t){return se.set.call(this,e,t,void 0)};se.set=function(e,t,r){return Be.set.call(this,e[0],t,r,e[0])};function Te(e,t){const r=e[$];return(r?J(r):e)[t]}function Br(e,t,r){var o;const n=Pt(t,r);return n?"value"in n?n.value:(o=n.get)==null?void 0:o.call(e.draft_):void 0}function Pt(e,t){if(!(t in e))return;let r=Z(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Z(r)}}function Ae(e){e.modified_||(e.modified_=!0,e.parent_&&Ae(e.parent_))}function Re(e){e.copy_||(e.copy_=Ie(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Hr=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const c=r;r=t;const i=this;return function(u=c,...d){return i.produce(u,l=>r.call(this,l,...d))}}typeof r!="function"&&B(6),n!==void 0&&typeof n!="function"&&B(7);let o;if(q(t)){const c=ot(this),i=Fe(t,void 0);let a=!0;try{o=r(i),a=!1}finally{a?De(c):Ne(c)}return nt(c,n),st(o,c)}else if(!t||typeof t!="object"){if(o=r(t),o===void 0&&(o=t),o===Ct&&(o=void 0),this.autoFreeze_&&Ue(o,!0),n){const c=[],i=[];X("Patches").generateReplacementPatches_(t,o,c,i),n(c,i)}return o}else B(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(i,...a)=>this.produceWithPatches(i,u=>t(u,...a));let n,o;return[this.produce(t,r,(i,a)=>{n=i,o=a}),n,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){q(e)||B(8),V(e)&&(e=kt(e));const t=ot(this),r=Fe(e,void 0);return r[$].isManual_=!0,Ne(t),r}finishDraft(e,t){const r=e&&e[$];(!r||!r.isManual_)&&B(9);const{scope_:n}=r;return nt(n,t),st(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const o=t[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(t=t.slice(r+1));const n=X("Patches").applyPatches_;return V(e)?n(e,t):this.produce(e,o=>n(o,t))}};function Fe(e,t){const r=Ce(e)?X("MapSet").proxyMap_(e,t):Ee(e)?X("MapSet").proxySet_(e,t):Ur(e,t);return(t?t.scope_:Ot()).drafts_.push(r),r}function kt(e){return V(e)||B(10,e),Tt(e)}function Tt(e){if(!q(e)||_e(e))return e;const t=e[$];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ie(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Ie(e,!0);return xe(r,(n,o)=>{_t(r,n,Tt(o))}),t&&(t.finalized_=!1),r}var z=new Hr,Rt=z.produce;z.produceWithPatches.bind(z);z.setAutoFreeze.bind(z);z.setUseStrictShallowCopy.bind(z);z.applyPatches.bind(z);z.createDraft.bind(z);z.finishDraft.bind(z);function qr(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Wr(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Gr(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var it=e=>Array.isArray(e)?e:[e];function Kr(e){const t=Array.isArray(e[0])?e[0]:e;return Gr(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Vr(e,t){const r=[],{length:n}=e;for(let o=0;o<n;o++)r.push(e[o].apply(null,t));return r}var Jr=class{constructor(e){this.value=e}deref(){return this.value}},Xr=typeof WeakRef<"u"?WeakRef:Jr,Yr=0,at=1;function pe(){return{s:Yr,v:void 0,o:null,p:null}}function He(e,t={}){let r=pe();const{resultEqualityCheck:n}=t;let o,c=0;function i(){var f;let a=r;const{length:u}=arguments;for(let h=0,j=u;h<j;h++){const m=arguments[h];if(typeof m=="function"||typeof m=="object"&&m!==null){let k=a.o;k===null&&(a.o=k=new WeakMap);const S=k.get(m);S===void 0?(a=pe(),k.set(m,a)):a=S}else{let k=a.p;k===null&&(a.p=k=new Map);const S=k.get(m);S===void 0?(a=pe(),k.set(m,a)):a=S}}const d=a;let l;if(a.s===at)l=a.v;else if(l=e.apply(null,arguments),c++,n){const h=((f=o==null?void 0:o.deref)==null?void 0:f.call(o))??o;h!=null&&n(h,l)&&(l=h,c!==0&&c--),o=typeof l=="object"&&l!==null||typeof l=="function"?new Xr(l):l}return d.s=at,d.v=l,l}return i.clearCache=()=>{r=pe(),i.resetResultsCount()},i.resultsCount=()=>c,i.resetResultsCount=()=>{c=0},i}function Mt(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...o)=>{let c=0,i=0,a,u={},d=o.pop();typeof d=="object"&&(u=d,d=o.pop()),qr(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const l={...r,...u},{memoize:f,memoizeOptions:h=[],argsMemoize:j=He,argsMemoizeOptions:m=[],devModeChecks:k={}}=l,S=it(h),P=it(m),R=Kr(o),C=f(function(){return c++,d.apply(null,arguments)},...S),_=j(function(){i++;const D=Vr(R,arguments);return a=C.apply(null,D),a},...P);return Object.assign(_,{resultFunc:d,memoizedResultFunc:C,dependencies:R,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>a,recomputations:()=>c,resetRecomputations:()=>{c=0},memoize:f,argsMemoize:j})};return Object.assign(n,{withTypes:()=>n}),n}var Qr=Mt(He),Zr=Object.assign((e,t=Qr)=>{Wr(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(c=>e[c]);return t(n,(...c)=>c.reduce((i,a,u)=>(i[r[u]]=a,i),{}))},{withTypes:()=>Zr});function It(e){return({dispatch:r,getState:n})=>o=>c=>typeof c=="function"?c(r,n,e):o(c)}var en=It(),tn=It,rn=(...e)=>{const t=Mt(...e),r=Object.assign((...n)=>{const o=t(...n),c=(i,...a)=>o(V(i)?kt(i):i,...a);return Object.assign(c,o),c},{withTypes:()=>r});return r};rn(He);var nn=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ye:ye.apply(null,arguments)};function ee(e,t){function r(...n){if(t){let o=t(...n);if(!o)throw new Error(N(0));return{type:e,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>Dr(n)&&n.type===e,r}var Dt=class ne extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ne.prototype)}static get[Symbol.species](){return ne}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ne(...t[0].concat(this)):new ne(...t.concat(this))}};function lt(e){return q(e)?Rt(e,()=>{}):e}function ut(e,t,r){if(e.has(t)){let o=e.get(t);return r.update&&(o=r.update(o,t,e),e.set(t,o)),o}if(!r.insert)throw new Error(N(10));const n=r.insert(t,e);return e.set(t,n),n}function on(e){return typeof e=="boolean"}var sn=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:o=!0,actionCreatorCheck:c=!0}=t??{};let i=new Dt;return r&&(on(r)?i.push(en):i.push(tn(r.extraArgument))),i},cn="RTK_autoBatch",Nt=e=>t=>{setTimeout(t,e)},an=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Nt(10),ln=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let o=!0,c=!1,i=!1;const a=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?an:e.type==="callback"?e.queueNotification:Nt(e.timeout),d=()=>{i=!1,c&&(c=!1,a.forEach(l=>l()))};return Object.assign({},n,{subscribe(l){const f=()=>o&&l(),h=n.subscribe(f);return a.add(l),()=>{h(),a.delete(l)}},dispatch(l){var f;try{return o=!((f=l==null?void 0:l.meta)!=null&&f[cn]),c=!o,c&&(i||(i=!0,u(d))),n.dispatch(l)}finally{o=!0}}})},un=e=>function(r){const{autoBatch:n=!0}=r??{};let o=new Dt(e);return n&&o.push(ln(typeof n=="object"?n:void 0)),o},dn=!0;function fn(e){const t=sn(),{reducer:r=void 0,middleware:n,devTools:o=!0,preloadedState:c=void 0,enhancers:i=void 0}=e||{};let a;if(typeof r=="function")a=r;else if(Le(r))a=Mr(r);else throw new Error(N(1));let u;typeof n=="function"?u=n(t):u=t();let d=ye;o&&(d=nn({trace:!dn,...typeof o=="object"&&o}));const l=Ir(...u),f=un(l);let h=typeof i=="function"?i(f):f();const j=d(...h);return vt(a,c,j)}function At(e){const t={},r=[];let n;const o={addCase(c,i){const a=typeof c=="string"?c:c.type;if(!a)throw new Error(N(28));if(a in t)throw new Error(N(29));return t[a]=i,o},addMatcher(c,i){return r.push({matcher:c,reducer:i}),o},addDefaultCase(c){return n=c,o}};return e(o),[t,r,n]}function pn(e){return typeof e=="function"}function hn(e,t){let[r,n,o]=At(t),c;if(pn(e))c=()=>lt(e());else{const a=lt(e);c=()=>a}function i(a=c(),u){let d=[r[u.type],...n.filter(({matcher:l})=>l(u)).map(({reducer:l})=>l)];return d.filter(l=>!!l).length===0&&(d=[o]),d.reduce((l,f)=>{if(f)if(V(l)){const j=f(l,u);return j===void 0?l:j}else{if(q(l))return Rt(l,h=>f(h,u));{const h=f(l,u);if(h===void 0){if(l===null)return l;throw new Error(N(9))}return h}}return l},a)}return i.getInitialState=c,i}var mn="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",yn=(e=21)=>{let t="",r=e;for(;r--;)t+=mn[Math.random()*64|0];return t},xn=Symbol.for("rtk-slice-createasyncthunk");function gn(e,t){return`${e}/${t}`}function wn({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[xn];return function(o){const{name:c,reducerPath:i=c}=o;if(!c)throw new Error(N(11));typeof process<"u";const a=(typeof o.reducers=="function"?o.reducers(bn()):o.reducers)||{},u=Object.keys(a),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},l={addCase(C,_){const M=typeof C=="string"?C:C.type;if(!M)throw new Error(N(12));if(M in d.sliceCaseReducersByType)throw new Error(N(13));return d.sliceCaseReducersByType[M]=_,l},addMatcher(C,_){return d.sliceMatchers.push({matcher:C,reducer:_}),l},exposeAction(C,_){return d.actionCreators[C]=_,l},exposeCaseReducer(C,_){return d.sliceCaseReducersByName[C]=_,l}};u.forEach(C=>{const _=a[C],M={reducerName:C,type:gn(c,C),createNotation:typeof o.reducers=="function"};vn(_)?En(M,_,l,t):Sn(M,_,l)});function f(){const[C={},_=[],M=void 0]=typeof o.extraReducers=="function"?At(o.extraReducers):[o.extraReducers],D={...C,...d.sliceCaseReducersByType};return hn(o.initialState,w=>{for(let x in D)w.addCase(x,D[x]);for(let x of d.sliceMatchers)w.addMatcher(x.matcher,x.reducer);for(let x of _)w.addMatcher(x.matcher,x.reducer);M&&w.addDefaultCase(M)})}const h=C=>C,j=new Map;let m;function k(C,_){return m||(m=f()),m(C,_)}function S(){return m||(m=f()),m.getInitialState()}function P(C,_=!1){function M(w){let x=w[C];return typeof x>"u"&&_&&(x=S()),x}function D(w=h){const x=ut(j,_,{insert:()=>new WeakMap});return ut(x,w,{insert:()=>{const v={};for(const[H,L]of Object.entries(o.selectors??{}))v[H]=jn(L,w,S,_);return v}})}return{reducerPath:C,getSelectors:D,get selectors(){return D(M)},selectSlice:M}}const R={name:c,reducer:k,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:S,...P(i),injectInto(C,{reducerPath:_,...M}={}){const D=_??i;return C.inject({reducerPath:D,reducer:k},M),{...R,...P(D,!0)}}};return R}}function jn(e,t,r,n){function o(c,...i){let a=t(c);return typeof a>"u"&&n&&(a=r()),e(a,...i)}return o.unwrapped=e,o}var Ft=wn();function bn(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Sn({type:e,reducerName:t,createNotation:r},n,o){let c,i;if("reducer"in n){if(r&&!Cn(n))throw new Error(N(17));c=n.reducer,i=n.prepare}else c=n;o.addCase(e,c).exposeCaseReducer(t,c).exposeAction(t,i?ee(e,i):ee(e))}function vn(e){return e._reducerDefinitionType==="asyncThunk"}function Cn(e){return e._reducerDefinitionType==="reducerWithPrepare"}function En({type:e,reducerName:t},r,n,o){if(!o)throw new Error(N(18));const{payloadCreator:c,fulfilled:i,pending:a,rejected:u,settled:d,options:l}=r,f=o(e,c,l);n.exposeAction(t,f),i&&n.addCase(f.fulfilled,i),a&&n.addCase(f.pending,a),u&&n.addCase(f.rejected,u),d&&n.addMatcher(f.settled,d),n.exposeCaseReducer(t,{fulfilled:i||he,pending:a||he,rejected:u||he,settled:d||he})}function he(){}var _n=(e,t)=>{if(typeof e!="function")throw new Error(N(32))},qe="listenerMiddleware",On=e=>{let{type:t,actionCreator:r,matcher:n,predicate:o,effect:c}=e;if(t)o=ee(t).match;else if(r)t=r.type,o=r.match;else if(n)o=n;else if(!o)throw new Error(N(21));return _n(c),{predicate:o,type:t,effect:c}},Pn=Object.assign(e=>{const{type:t,predicate:r,effect:n}=On(e);return{id:yn(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(N(22))}}},{withTypes:()=>Pn}),kn=Object.assign(ee(`${qe}/add`),{withTypes:()=>kn});ee(`${qe}/removeAll`);var Tn=Object.assign(ee(`${qe}/remove`),{withTypes:()=>Tn});function N(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const $t=Ft({name:"auth",initialState:{user:null,exp:null,token:null,admin:!1},reducers:{setCredentials:(e,t)=>{const{token:r}=t.payload;e.token=r;const n=r.split("."),o=JSON.parse(atob(n[1]));e.user=o.usr,e.exp=o.exp,e.admin=o.adm},logout:e=>{e.user=null,e.exp=null,e.token=null,e.admin=!1,console.log("Logged out")}}}),{setCredentials:Rn,logout:We}=$t.actions,Ge=e=>e.auth.user,Mn=e=>e.auth.exp,In=e=>e.auth.token,zt=e=>e.auth.admin,Dn=$t.reducer;function Nn(){const[e,t]=y.useState(!1),[r,n]=y.useState(0),o=le();var c=K(Mn);return y.useEffect(()=>{const i=setInterval(()=>{c&&c<Math.floor(Date.now()/1e3)&&(o(We(c)),t(!0)),n(c-Math.floor(Date.now()/1e3))},0);return()=>clearInterval(i)},[c]),s.jsxs(s.Fragment,{children:[s.jsx(s.Fragment,{children:c&&r}),s.jsx(U,{title:"Session expired",open:e,closable:!1,footer:s.jsx(T,{type:"primary",onClick:()=>t(!1),children:"Ok"}),children:s.jsx("p",{children:"Please log in again."})})]})}function An(){const e=K(Ge),t=le(),[r,n]=y.useState(!1),o=()=>{n(!1),t(We(e))},c=[{key:"1",label:s.jsx(Q,{to:"login",children:"Login"})}],i=[{key:"1",label:`${e}`,children:[{key:"2",label:"Logout",onClick:()=>{n(!0)}}]}];return s.jsxs(Y.Header,{style:{display:"flex",alignItems:"center",position:"sticky",justifyContent:"space-between",top:0,zIndex:1,color:"#ffffff",minHeight:"8vh"},children:[s.jsx("h1",{children:"SQLite Web Server"}),s.jsxs(W,{size:"middle",children:[s.jsx(Nn,{}),s.jsx(pt,{items:e?i:c,theme:"dark",selectedKeys:[]})]}),s.jsx(U,{title:" Are you sure you want to logout?",open:r,onOk:o,okText:"Yes",closable:!1,onCancel:()=>n(!1)})]})}const Fn=[{key:"1",label:s.jsx(Q,{to:"/",children:"Home"})},{key:"2",label:s.jsx(Q,{to:"database-management",children:"Database Management"})}],$n=[{key:"1",label:s.jsx(Q,{to:"/",children:"Home"})},{key:"2",label:s.jsx(Q,{to:"select",children:"Select"})}];function zn(){const e=K(zt),{token:{colorBgContainer:t}}=ht.useToken();return s.jsx(Y.Sider,{breakpoint:"lg",collapsedWidth:"0",style:{background:t},children:s.jsx(pt,{items:e?Fn:$n,theme:"dark",mode:"vertical",defaultSelectedKeys:["1"],style:{height:"100%",borderRight:0}})})}const Ln="/select-app/vite.svg",Un="/select-app/assets/react-CHdo91hT.svg",Lt=Ft({name:"counter",initialState:{value:0},reducers:{increment:e=>{e.value+=1},decrement:e=>{e.value-=1}}}),{increment:Bn,decrement:Hn,incrementByAmount:Co}=Lt.actions,qn=e=>e.counter.value,Wn=Lt.reducer;var Gn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},Kn=function(t,r){return y.createElement(je,be({},t,{ref:r,icon:Gn}))},ce=y.forwardRef(Kn),Vn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},Jn=function(t,r){return y.createElement(je,be({},t,{ref:r,icon:Vn}))},Xn=y.forwardRef(Jn),Yn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},Qn=function(t,r){return y.createElement(je,be({},t,{ref:r,icon:Yn}))},Ut=y.forwardRef(Qn),Zn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},eo=function(t,r){return y.createElement(je,be({},t,{ref:r,icon:Zn}))},Ke=y.forwardRef(eo);function to(){const e=K(qn),t=le();return s.jsxs(W,{direction:"horizontal",children:[s.jsx("a",{onClick:()=>t(Hn(e)),target:"_blank",children:s.jsx(Xn,{})}),e,s.jsx("a",{onClick:()=>t(Bn(e)),target:"_blank",children:s.jsx(Ut,{})})]})}function ro(){return s.jsxs(W,{direction:"vertical",children:[s.jsxs("div",{children:[s.jsx("a",{href:"https://vitejs.dev",target:"_blank",children:s.jsx("img",{src:Ln,className:"logo",alt:"Vite logo"})}),s.jsx("a",{href:"https://react.dev",target:"_blank",children:s.jsx("img",{src:Un,className:"logo react",alt:"React logo"})})]}),s.jsx("h1",{children:"Vite + React"}),s.jsx(T,{type:"primary",children:s.jsx(Q,{to:"select",children:"Go Select"})}),s.jsx(to,{}),s.jsxs("p",{children:["Edit ",s.jsx("code",{children:"src/App.tsx"})," and save to test HMR"]}),s.jsx("p",{className:"read-the-docs",children:"Click on the Vite and React logos to learn more"})]})}function no({onClose:e}){const[t,r]=y.useState(!1),[n,o]=y.useState(""),c=async i=>{try{const a=await fetch("/add-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),u=await a.text();if(o(u),!a.ok)throw new Error(u)}catch(a){console.error("Error adding user:",a)}r(!0)};return s.jsxs(O,{style:{padding:"8px"},onFinish:c,layout:"vertical",children:[s.jsx(O.Item,{name:"name",label:"Username",rules:[{required:!0,message:"Please input your username!"}],children:s.jsx(F,{prefix:s.jsx(Ke,{}),placeholder:"Username"})}),s.jsx(O.Item,{name:"pwd",label:"Password",hasFeedback:!0,rules:[{required:!0,message:"Please input your password!"},{validator(i,a){return!a||/^(?=.*[a-zA-Z])(?=.*[0-9]).{8,}$/.test(a)?Promise.resolve():Promise.reject(new Error("Password must be a combination of letters and numbers, at least 8 characters"))}}],children:s.jsx(F.Password,{prefix:s.jsx(ce,{}),placeholder:"Password"})}),s.jsx(O.Item,{name:"pwd2",label:"Confirm Password",dependencies:["pwd"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},({getFieldValue:i})=>({validator(a,u){return!u||i("pwd")===u?Promise.resolve():Promise.reject(new Error("The two passwords that you entered do not match!"))}})],children:s.jsx(F.Password,{prefix:s.jsx(ce,{}),placeholder:"Password"})}),s.jsx(O.Item,{children:s.jsx(T,{type:"primary",htmlType:"submit",children:"Register"})}),s.jsx(U,{title:n==="User added successfully"?"Success":"Error",open:t,footer:s.jsx(T,{type:"primary",onClick:()=>{r(!1),n==="User added successfully"&&e()},children:"Ok"}),closable:!1,destroyOnClose:!0,onCancel:()=>r(!1),children:s.jsx(s.Fragment,{children:n})})]})}function oo({onClose:e}){const[t,r]=y.useState(!1),[n,o]=y.useState(""),c=async i=>{try{const a=await fetch("edit-user",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),u=await a.text();if(o(u),!a.ok)throw new Error(u)}catch(a){console.error("Error adding user:",a)}r(!0)};return s.jsxs(O,{style:{padding:"8px"},onFinish:c,layout:"vertical",children:[s.jsx(O.Item,{name:"name",label:"Username",rules:[{required:!0,message:"Please input your username!"}],children:s.jsx(F,{prefix:s.jsx(Ke,{}),placeholder:"Username"})}),s.jsx(O.Item,{name:"pwd",label:"New Password",hasFeedback:!0,rules:[{required:!0,message:"Please input your new password!"},{validator(i,a){return!a||/^(?=.*[a-zA-Z])(?=.*[0-9]).{8,}$/.test(a)?Promise.resolve():Promise.reject(new Error("Password must be a combination of letters and numbers, at least 8 characters"))}}],children:s.jsx(F.Password,{prefix:s.jsx(ce,{}),placeholder:"Password"})}),s.jsx(O.Item,{name:"pwd2",label:"Confirm Password",dependencies:["pwd"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},({getFieldValue:i})=>({validator(a,u){return!u||i("pwd")===u?Promise.resolve():Promise.reject(new Error("The two passwords that you entered do not match!"))}})],children:s.jsx(F.Password,{prefix:s.jsx(ce,{}),placeholder:"Password"})}),s.jsx(O.Item,{children:s.jsx(T,{type:"primary",htmlType:"submit",children:"Submit"})}),s.jsx(U,{title:n==="User updated successfully"?"Success":"Error",open:t,footer:s.jsx(T,{type:"primary",onClick:()=>{r(!1),n==="User updated successfully"&&e()},children:"Ok"}),closable:!1,destroyOnClose:!0,onCancel:()=>r(!1),children:s.jsx(s.Fragment,{children:n})})]})}const so=()=>{const e=le(),t=Xt(),[r,n]=y.useState([!1]),[o,c]=y.useState(""),i=async a=>{try{const u=await fetch("/loginAuth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!u.ok)throw new Error("Failed to login");const d=await u.json();console.log(d),e(Rn({token:d})),t("/")}catch(u){console.error("Error logging in:",u),c("Invalid username or password"),n([!0,!1,!1])}};return s.jsxs(W,{direction:"vertical",style:{width:"300px",borderRadius:"8px",boxShadow:"0 0 10px #C8DEE5"},children:[s.jsx("h2",{children:"Log in"}),s.jsxs(O,{style:{padding:"0 8px 8px"},onFinish:i,children:[s.jsx(O.Item,{name:"name",rules:[{required:!0,message:"Please input your username!"}],children:s.jsx(F,{prefix:s.jsx(Ke,{}),placeholder:"Username"})}),s.jsx(O.Item,{name:"pwd",rules:[{required:!0,message:"Please input your password!"}],children:s.jsx(F.Password,{prefix:s.jsx(ce,{}),placeholder:"Password"})}),s.jsxs(O.Item,{children:[s.jsx(T,{type:"primary",htmlType:"submit",children:"Log in"}),s.jsx(U,{title:"Error",open:r[0],footer:s.jsx(T,{type:"primary",onClick:()=>n([!1]),children:"Ok"}),closable:!1,onCancel:()=>n([!1]),children:s.jsx(s.Fragment,{children:o})})]}),s.jsx(T,{type:"link",onClick:()=>n([!1,!0,!1]),children:"Forgot Password?"}),s.jsx(U,{title:"Reset Password",open:r[1],footer:null,onCancel:()=>n([!1]),children:s.jsx(oo,{onClose:()=>n([!1])})}),s.jsxs("p",{className:"read-the-docs",children:["Do not have an account? ",s.jsx(T,{type:"link",onClick:()=>n([!1,!1,!0]),children:"Register"})]}),s.jsx(U,{title:"Register",open:r[2],footer:null,onCancel:()=>n([!1]),children:s.jsx(no,{onClose:()=>n([!1])})})]})]})};function co({onFinish:e}){const[t,r]=y.useState(!1),[n,o]=y.useState([]),[c,i]=ie.useMessage(),a=async()=>{try{const l=await fetch("all-components",{method:"GET"});if(!l.ok)throw new Error("Failed to fetch data");const f=await l.json();console.log(f),o(f)}catch(l){console.error(l)}};y.useEffect(()=>{a()},[]);const u=async l=>{console.log(l);try{const f=await fetch("create-product",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),h=await f.text();if(!f.ok)throw new Error(h);r(!1),c.success(h)}catch(f){console.error("Error adding product:",f),c.error(f.message)}e()},d=()=>{e(),r(!1)};return s.jsxs(s.Fragment,{children:[i,s.jsx(T,{onClick:()=>r(!0),children:"Add Product"}),s.jsx(U,{title:"Add a new product",footer:null,open:t,onCancel:d,destroyOnClose:!0,children:s.jsxs(O,{labelCol:{span:4},onFinish:u,wrapperCol:{span:20},children:[s.jsx(O.Item,{label:"Name",name:"name",children:s.jsx(F,{placeholder:"Product name",required:!0})}),s.jsx(O.Item,{label:"Desc",name:"desc",children:s.jsx(F,{placeholder:"Descriptions"})}),s.jsx(O.Item,{label:"Comp",name:"comp",rules:[{required:!0,message:"Please select at least one component"}],children:s.jsx(Je.Group,{options:n.map(l=>({label:l,value:l})),children:n.map(l=>s.jsx(Je,{value:l,children:l},l))})}),s.jsx(O.Item,{children:s.jsx(T,{type:"primary",htmlType:"submit",children:"Submit"})})]})})]})}function io({onFinish:e}){const[t,r]=y.useState(!1),[n,o]=ie.useMessage(),c=async a=>{console.log(a);try{const u=await fetch("add-comp-type",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),d=await u.text();if(!u.ok)throw new Error(d);r(!1),n.success(d)}catch(u){console.error("Error adding components relations:",u),n.error(u.message)}e()},i=()=>{e(),r(!1)};return s.jsxs(s.Fragment,{children:[o,s.jsx(T,{onClick:()=>r(!0),children:"New Components Type"}),s.jsx(U,{title:"Add a new component type",footer:null,open:t,onCancel:i,destroyOnClose:!0,children:s.jsxs(O,{labelCol:{span:8},onFinish:c,wrapperCol:{span:10},children:[s.jsx(O.Item,{label:"Type",name:"type",children:s.jsx(F,{required:!0})}),s.jsx(O.Item,{children:s.jsx(T,{type:"primary",htmlType:"submit",children:"Submit"})})]})})]})}function ao({onFinish:e}){const[t,r]=y.useState(!1),[n,o]=y.useState([]),[c,i]=ie.useMessage(),a=async()=>{try{const l=await fetch("all-components",{method:"GET"});if(!l.ok)throw new Error("Failed to fetch data");const f=await l.json();console.log(f),o(f)}catch(l){console.error(l)}};y.useEffect(()=>{a()},[]);const u=async l=>{console.log(l);try{const f=await fetch("create-comp-rel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),h=await f.text();if(!f.ok)throw new Error(h);r(!1),c.success(h)}catch(f){console.error("Error adding components relations:",f),c.error(f.message)}e()},d=()=>{e(),r(!1)};return s.jsxs(s.Fragment,{children:[i,s.jsx(T,{onClick:()=>r(!0),children:"Add Components Relations"}),s.jsx(U,{title:"Add a new component relation",footer:null,open:t,onCancel:d,destroyOnClose:!0,children:s.jsxs(O,{labelCol:{span:8},onFinish:u,wrapperCol:{span:10},children:[s.jsx(O.Item,{label:"ComponentA",name:"ComponentA",rules:[{required:!0,message:"Please select a component"}],children:s.jsx(ue,{placeholder:"Select a component",children:n.map(l=>s.jsx(ue.Option,{value:l,children:l},l))})}),s.jsx(O.Item,{label:"ComponentB",name:"ComponentB",rules:[{required:!0,message:"Please select a component"},({getFieldValue:l})=>({validator(f,h){return!h||l("ComponentA")!==h?Promise.resolve():Promise.reject(new Error("ComponentB must be different from ComponentA"))}})],children:s.jsx(ue,{placeholder:"Select a component",children:n.map(l=>s.jsx(ue.Option,{value:l,children:l},l))})}),s.jsx(O.Item,{children:s.jsx(T,{type:"primary",htmlType:"submit",children:"Submit"})})]})})]})}function lo(){return s.jsxs(s.Fragment,{children:[s.jsx(mt,{description:"Permission denied"}),s.jsx("a",{href:"/#/",children:"Go Home"})]})}const uo=async()=>{const e=le(),t=K(In);try{if(!(await fetch("/validate",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}})).ok)throw new Error("Failed to authenticate")}catch(r){console.error("Error authenticating:",r),e(We(t))}};function fo(){uo();const[e,t]=ie.useMessage(),[r,n]=y.useState([!1]),[o,c]=y.useState([]),[i,a]=y.useState([]),[u,d]=y.useState([]),[l,f]=y.useState([]),[h,j]=y.useState([]),[m,k]=y.useState(""),S=["Component","Product"],P=async()=>{try{const g=await fetch("/get-tables",{method:"GET"});if(!g.ok)throw new Error("Failed to list table");const p=await g.json();j(p)}catch(g){console.error("Error listing table:",g)}};y.useEffect(()=>{P()},[]);const R=async g=>{if(g.length===0){f([]);return}try{f([]);const p=await fetch(`/show-tables?q=${g[0]}`,{method:"GET"});if(!p.ok)throw new Error(await p.text());k(g[0]);const b=await p.json();d(b[0]),f(b.slice(1))}catch(p){console.error("Error showing table:",p),e.error(p.message)}},C=g=>{c(g),a(g),n([!0,!1])},_=g=>{c({...o,[g.target.name]:g.target.value})},M=g=>async p=>{console.log("Switch",g,p);const b=p?1:0;try{const E=await fetch(`/update-data?t=users&&col=3&&val=${b}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!E.ok)throw new Error("Failed to update data");const re=await E.text();e.success(re),n([!1])}catch(E){console.error("Error updating data:",E),e.error(E.message)}R(["users"])},D=async g=>{console.log("Insert",o,"on",g);try{if(Object.keys(o).length===0)throw new Error("You must fill in the data");const p=await fetch(`/insert-data?t=${g}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),b=await p.text();if(!p.ok)throw new Error(b);e.success(b),n([!1])}catch(p){console.error("Error inserting data:",p),e.error(p.message)}R([g]),c([]),a([])},w=async g=>{console.log("Update",o,"on",g);for(const p in o)if(console.log("original",i),console.log(u[Number(p)],o[p]===i[p]),o[p]!==i[p])try{const b=await fetch(`/update-data?t=${g}&&col=${p}&&val=${o[p]}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!b.ok)throw new Error("Failed to update data");const E=await b.text();e.success(E),i[p]=o[p]}catch(b){console.error("Error updating data:",b),e.error(b.message)}R([g]),n([!1]),c([]),a([])},x=async(g,p)=>{console.log("Delete",p);try{if(g==="users"&&p.id===1)throw new Error("Cannot delete admin");var b;g==="Product"?b="delete-product":g==="Component"?b="del-comp-type":b=`delete-data?t=${g}`;const E=await fetch(`${b}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!E.ok)throw new Error("Failed to delete data");const re=await E.text();f(l.filter(Bt=>Bt!==p)),P(),e.success(re)}catch(E){console.error("Error deleting data:",E),e.error(E.message)}},v=async g=>{console.log("Delete",g);try{const p=await fetch(`drop-table?t=${g}`,{method:"DELETE"});if(!p.ok)throw new Error("Failed to delete table");const b=await p.text();j(h.filter(E=>E!==g)),P(),e.success(b)}catch(p){console.error("Error deleting table:",p),e.error(p.message)}},H=()=>{console.log("cancel"),n([!1]),c([]),a([])},L=async(g,p)=>{console.log("Change order",g[0]),console.log("Direction:",p);try{const b=await fetch(`/chg-order?t=${m}&&ord=${g[0]}&&dir=${p}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!b.ok)throw new Error(await b.text());const E=await b.text();e.success(E),R([m])}catch(b){console.error("Error changing order:",b),e.error(b.message)}},Oe=K(Ge),te=K(zt);return s.jsxs(s.Fragment,{children:[t,!Oe||!te?s.jsx(lo,{}):s.jsxs(W,{direction:"vertical",style:{display:"flex"},children:[s.jsxs(W,{direction:"horizontal",children:[s.jsx(io,{onFinish:P}),s.jsx(co,{onFinish:P}),s.jsx(ao,{onFinish:P})]}),s.jsx(Xe,{accordion:!0,bordered:!1,onChange:g=>R(g),children:h.map(g=>s.jsxs(Xe.Panel,{header:g,children:[s.jsx(U,{title:"Insert Data to "+m,open:r[1],onOk:()=>D(m),onCancel:H,destroyOnClose:!0,children:s.jsx(O,{labelCol:{span:4},wrapperCol:{span:20},children:u.map((p,b)=>p!=="manager"&&s.jsx(O.Item,{label:p,name:p,children:s.jsx(F,{name:p,onChange:E=>_(E)})},b))})}),s.jsx(Ye,{title:"Sure to delete table?",onConfirm:()=>v(g),children:s.jsx(T,{danger:!0,children:"Delete Table"})}),l===null?s.jsx(mt,{description:"No data"}):s.jsx(Ht,{dataSource:l,columns:[...l.length>0?Object.keys(l[0]).map(p=>({title:u[p],dataIndex:p,ellipsis:!0,render:(b,E)=>u[p]==="manager"?s.jsx(qt,{checked:E[p],onChange:M(E)}):u[p]==="order"?s.jsxs(W,{children:[s.jsx(T,{icon:s.jsx(Wt,{}),onClick:()=>L(E,-1)}),b,s.jsx(T,{icon:s.jsx(Gt,{}),onClick:()=>L(E,1),disabled:!0})]}):b})):[],{title:"Actions",dataIndex:"actions",render:(p,b)=>s.jsxs(W,{children:[s.jsx(T,{onClick:()=>C(b),children:"Edit"}),s.jsx(U,{title:"Edit Data",open:r[0],onOk:()=>w(m),onCancel:H,destroyOnClose:!0,children:s.jsx(O,{labelCol:{span:4},wrapperCol:{span:20},children:Object.keys(o).map(E=>u[E]!=="manager"&&s.jsx(O.Item,{label:u[E],name:u[E],initialValue:o[E],children:s.jsx(F,{name:E,value:o[E],onChange:re=>_(re),disabled:u[E]==="id"})},E))})}),s.jsx(Ye,{title:"Sure to delete?",onConfirm:()=>x(m,b),children:s.jsx(T,{danger:!0,children:"Delete"})})]})}]}),S.includes(m)?null:s.jsx(T,{icon:s.jsx(Ut,{}),type:"text",onClick:()=>n([!1,!0])})]},g))})]})]})}const po=async e=>{const t=await fetch("calc-price",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to calculate price");const r=await t.json();return console.log(r),r},ho=e=>{const t=e.join(" + ");return console.log(t),t},mo=({data:e,render:t})=>{const[r,n]=y.useState(null),[o,c]=y.useState(!1);return y.useEffect(()=>{po(e).then(n)},[e]),s.jsxs(s.Fragment,{children:[s.jsx(T,{type:"primary",shape:"round",icon:s.jsx(Kt,{}),onClick:()=>c(t),children:"Next"}),s.jsxs(Vt,{title:"Selected Components",placement:"right",closable:!0,onClose:()=>c(!1),open:o,children:[s.jsx("p",{children:ho(e)}),s.jsxs("h2",{children:["Total: $",r]})]})]})},yo=()=>{const[e,t]=ie.useMessage(),[r,n]=y.useState([]),[o,c]=y.useState(""),[i,a]=y.useState(""),[u,d]=y.useState([]),[l,f]=y.useState([]),[h,j]=y.useState({}),[m,k]=y.useState([]),[S,P]=y.useState([]),R=async()=>{try{const w=await fetch("/list-products?t=Product&&col=name",{method:"GET"});if(!w.ok)throw new Error("Failed to list Products");const x=await w.json();n(x)}catch(w){console.error("Error listing products:",w)}};y.useEffect(()=>{R()},[]);const C=async w=>{d([]),f([]),k([]),P([]),a(""),c(w.target.value);try{const x=await fetch(`get-product?name=${w.target.value}`,{method:"GET"});if(!x.ok)throw new Error("Failed to fetch product");const v=await x.json();a(v.desc),d(v.comp),f([v.comp[0]]),_(v.comp[0])}catch(x){console.error(x)}},_=async w=>{try{const x=await fetch(`get-comp-name?t=${w}`,{method:"GET"});if(!x.ok)throw new Error("Failed to fetch options");const v=await x.json(),H=Object.keys(v).map(L=>({name:v[L].name,desc:v[L].desc,price:v[L].price}));j(L=>({...L,[w]:H}))}catch(x){console.error(x)}},M=async w=>{const x=u.findIndex(v=>w.target.value.includes(v))+1;if(l.includes(u[x])&&(console.log("Already in rcomp:",l.includes(u[x])),j(v=>({...v,[u[x]]:[]})),f(v=>v.slice(0,x)),P(v=>v.slice(0,x-1)),k([])),P(v=>[...v,w.target.value]),x!==u.length)try{const v=await fetch(`pair-components?prod=${o}&&name=${w.target.value}&&next=${u[x]}`,{method:"GET"});if(!v.ok)throw new Error(await v.text());const H=await v.json(),L=Object.keys(H).map(Oe=>H[Oe].map(te=>({name:te.name,desc:te.desc,price:te.price}))).flat();k(L)}catch(v){console.error("Failed to pair components",v)}};y.useEffect(()=>{for(let w=0;w<m.length;w++){const x=m[w].name.split("-")[0];if(!l.includes(x)){m.splice(0,w),j(v=>({...v,[x]:m})),f(v=>[...v,x]);break}}},[l,m]);const D=()=>S.length!==u.length||o===""?(console.log("Please select all components"),e.error("Please select all components"),!1):!0;return s.jsxs(Pe,{gap:5,align:"center",justify:"center",vertical:!0,children:[t,s.jsx("h1",{children:"Select a product"}),r?s.jsxs(Pe,{gap:10,align:"center",justify:"center",vertical:!0,children:[s.jsx(de.Group,{defaultValue:null,onChange:C,size:"large",buttonStyle:"solid",children:r.map(w=>s.jsx(de.Button,{value:w,name:w,children:w},w))}),s.jsx("p",{children:i}),l.map(w=>s.jsx(Pe,{children:s.jsx(de.Group,{defaultValue:null,onChange:M,children:h[w]?h[w].map(x=>s.jsx(Jt,{content:x.desc,title:`${x.name} ($${x.price})`,children:s.jsx(de.Button,{value:x.name,children:x.name},x.name)})):[]},w)}))]}):s.jsx("p",{children:"No product available now"}),s.jsx(mo,{data:S,render:D})]})},{Content:xo}=Y;function go(){const e=K(Ge),{token:{colorBgContainer:t,borderRadiusLG:r}}=ht.useToken();return s.jsxs(Y,{children:[s.jsx(An,{}),s.jsxs(Y,{hasSider:!0,style:{minHeight:"90vh"},children:[e?s.jsx(zn,{}):null,s.jsxs(Y,{style:{padding:"0 24px 24px",background:"#dff7ff"},children:[s.jsx("br",{}),s.jsx(xo,{style:{padding:"24px 16px 0",minHeight:280,background:t,borderRadius:r},children:s.jsxs(Yt,{children:[s.jsx(fe,{index:!0,element:s.jsx(ro,{})}),s.jsx(fe,{path:"database-management",element:s.jsx(fo,{})}),s.jsx(fe,{path:"select",element:s.jsx(yo,{})}),s.jsx(fe,{path:"login",element:s.jsx(so,{})})]})})]})]})]})}const wo=fn({reducer:{counter:Wn,auth:Dn}});var $e={},dt=Zt;$e.createRoot=dt.createRoot,$e.hydrateRoot=dt.hydrateRoot;$e.createRoot(document.getElementById("root")).render(s.jsx(ft.StrictMode,{children:s.jsx(Qt,{children:s.jsx(_r,{store:wo,children:s.jsx(go,{})})})}));
